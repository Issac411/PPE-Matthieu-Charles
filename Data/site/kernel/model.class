<?php
	require("connex.class");
	class model extends connex {

			
			public function __construct() {
			}
			
	public function get_nom() {
		return $nom;
	}
	
	public function del($id) {
		$req = "DELETE FROM ".$this->db_name." where(id=$id)";
		$bdd = connex::connexion();
		connex::$bdd->query($req);
		$bdd = null;
		
		}
		
	public function readAll() {
		$req = "SELECT * FROM ".$this->db_name.";";
		$bdd = connex::connexion();
		$res = connex::$bdd->query($req); 
		while($data = $res->fetch()) {
			$cats[] = $data;
			}
		$bdd = null;
		return $cats;
		}
		
	public function readTopics($id) {
		$req = "SELECT * FROM ".$this->db_name." where(id = $id);";
		$bdd = connex::connexion();
		$res = connex::$bdd->query($req); 
		$data = $res->fetch(PDO::FETCH_ASSOS);
		foreach($data as $k->v) {
			$this->$k=$v;
		}
		$bdd = null;
		return $cat;
		}
		
	public function createTopic() {
		$req = "INSERT INTO ".$this->db_name." (".$this->attributes.") VALUES (".$this->attributes_var.")";
		echo $req;
		$bdd = connex::connexion();
		connex::$bdd->query($req);
		$bdd = null;
		}

		public function updateTopic() {
				$req = "UPDATE ".$this->db_name." set nom='".$this->nom."',description='".$this->description."',image='".$this->image."' where(id =".$this->id.");";
				// auto gnr en php du genre dans le update on prpare un attribut de ciblage contenant tout le neccsaire ? + grer les attributs privs
				$bdd = connex::connexion();
				connex::$bdd->query($req);
				$bdd = null;
			}
		
	public function test(){ echo "test";}
	
	public function to_string() {
			return 	$this->nom." | ".
					$this->description." | ".
					$this->image." | ";
		}
	
	}
	
	?>